import{RankSystem}from'./game-logic/RankSystem.js';export class CPUAI{static decideTurn(h,l,o){const s=RankSystem.sortCards(h,o);if(!l||l.type==='none')return{action:'play',cardIndices:[0]};if(l.type==='single')return this.tryBeatSingle(s,l.rank,o);if(l.type==='set')return this.tryBeatSet(s,l.length,l.rank,o);return{action:'pass',cardIndices:[]};}static tryBeatSingle(s,t,o){for(let i=0;i<s.length;i++){if(RankSystem.rankValue(s[i],o)>t)return{action:'play',cardIndices:[i]};}return{action:'pass',cardIndices:[]};}static tryBeatSet(s,l,t,o){const r={};s.forEach((c,i)=>{if(!r[c.rank])r[c.rank]=[];r[c.rank].push(i);});for(const rank in r){const idx=r[rank];if(idx.length>=l&&RankSystem.rankValue(s[idx[0]],o)>t)return{action:'play',cardIndices:idx.slice(0,l)};}return{action:'pass',cardIndices:[]};}}